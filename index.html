<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <h1>Hello World Reload</h1>

    <ul id="todos">

    </ul>

    <script>
      // You can also require other files to run in this process
      require('./renderer.js')

      const { ipcRenderer } = require('electron');

      ipcRenderer.on('todo:add', (e, todo) => {
        console.log("Todo index", todo);

        let hnode = document.createElement('li');
        let tnode = document.createTextNode(todo);
        hnode.appendChild(tnode);

        document.querySelector("#todos").appendChild(hnode)
      })

      ipcRenderer.on('todo:clear', (e,v) => {
        console.log('clear')
        document.querySelector('ul').innerHTML = '';
      })
    </script>
  </body>
</html>
